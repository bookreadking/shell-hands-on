# shell-hands-on
日常の業務で使えるシェルのTipsを覚えるハンズオンです

## 準備
dockerでCentOS8のコンテナを立ち上げましょう。

```
docker run -it --rm centos:8 /bin/bash
```

必要なコマンドをインストールしてください

```
dnf -y install dnf-plugins-core
dnf config-manager --set-enable powertools
dnf install -y nkf
```


## 改行ありのテキストをターミナル上でコピー＆ペーストてファイルに保存しなさい

下記のテキストをクリップボードにコピーしてターミナル上でテキストファイルに保存してください。  

ヒント： catコマンドとリダイレクト(>)を使用してワンライナーで書けます

```
あのイーハトーヴォのすきとおった風、夏でも底に冷たさをもつ青いそら、うつくしい森で飾られたモリーオ市、郊外のぎらぎらひかる草の波。
またそのなかでいっしょになったたくさんのひとたち、ファゼーロとロザーロ、羊飼のミーロや、顔の赤いこどもたち、
地主のテーモ、山猫博士のボーガント・デストゥパーゴなど、いまこの暗い巨きな石の建物のなかで考えていると、みんなむかし風のなつかしい青い幻燈のように思われます。
では、わたくしはいつかの小さなみだしをつけながら、しずかにあの年のイーハトーヴォの五月から十月までを書きつけましょう。
```

<details>
<summary>答え</summary>

`ヒアドキュメント`という書き方で実現できます。

```sh
cat << EOF > /tmp/work.txt
あのイーハトーヴォのすきとおった風、夏でも底に冷たさをもつ青いそら、うつくしい森で飾られたモリーオ市、郊外のぎらぎらひかる草の波。
またそのなかでいっしょになったたくさんのひとたち、ファゼーロとロザーロ、羊飼のミーロや、顔の赤いこどもたち、
地主のテーモ、山猫博士のボーガント・デストゥパーゴなど、いまこの暗い巨きな石の建物のなかで考えていると、みんなむかし風のなつかしい青い幻燈のように思われます。
では、わたくしはいつかの小さなみだしをつけながら、しずかにあの年のイーハトーヴォの五月から十月までを書きつけましょう。
EOF
```

ファイル出力なしに、シンプルに書くとこうなります。

```sh
<<HOGE
創業
令和元年
HOGE
```

HOGEの部分は実はどんな文字列でも良いんですが、`<<HOGE`から次に`HOGE`が出現するまでの文字列を標準入力として扱ってね、という意味になります。  
応用でcatの引数に渡すことで標準出力に出力されて、それをファイルにリダイレクトすると改行ありでファイルに出力される寸法です。

応用で変数にも突っ込めます。ファイルを用意するのが面倒な場合に便利です。

```sh
MSG=$(<<EOS
hello
world
EOS
)
```

より詳しい説明はこちら
https://qiita.com/take4s5i/items/e207cee4fb04385a9952
</details>

## ファイルの文字コードと改行コードを調べなさい

コマンド一発でできます

<details>
<summary>答え</summary>

```sh
nkf --guess /tmp/work.txt
```

実行すると下記のような出力が得られます
```
UTF-8 (LF)
```

実際はコマンド一発にこだわる必要なので他にも方法はあります
例えばodコマンドで改行コードが見れます

```
od -c /tmp/work.txt
```

</details>

## ファイルを開かずにどんな形式のファイルなのか調べなさい

コマンド一発でできます

<details>
<summary>答え</summary>

```sh
file /tmp/work.txt
```

実行すると下記のような出力が得られます
```
/tmp/work.txt: UTF-8 Unicode text
```

[演習] 色々なファイルを調べみよう

</details>

## アルファベットのAの文字コードを調べなさい

<details>
<summary>答え</summary>

xxdコマンドで調べられます

```sh
echo -n a | xxd
```

実行すると下記のような出力が得られます
```
00000000: 61                                       a
```

文字コードは`61`ということです。

[演習] 色々な文字を調べみよう

[演習] xxdにファイルパスを渡してみよう（こっちの方が普通の使い方でしょうか）

```
xxd <ファイルパス>
```

</details>

## ファイルをgrep検索しよう


## ログファイルの指定時刻より後の行だけ取得しなさい

## コマンドの実行結果をファイルにいちいち保存せずに別のコマンドで使いたい

